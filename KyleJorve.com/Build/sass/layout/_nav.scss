/*==========----------==========*/
/*          HEADER NAV          */
/*==========----------==========*/

/*---------- TOP LEVEL ----------*/
.topNavWrp {
    opacity: 0;
    visibility: hidden;
    padding:2em;
    background:$navBg;
    max-height:100%;
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling:touch;
    position:fixed;
    top:0;
    right:0;
    bottom:0;
    left:0;
    z-index:99;
    @include transition(all, .5s);

    nav {
        width: 100%;
        padding:4em 0;
        text-align: center;
        position: relative;
        z-index: 2;

        ul,
        li{
            list-style: none;
            padding: 0;
        }

        ul{
            margin: 0;
        }

        a,
        a:visited {
            opacity:.65;
            display: inline-block;
            padding: 1em;
            font-size: $largeFontSize;
            font-family: $headingFont;
            font-weight: $headingFontWeight;
            text-transform: $headingTextTransform;
            color: $navLinkColor;
            text-decoration: none;
            position: relative;
            z-index: 2;
            @include transition;

            &:before{
                opacity:0;
                display:block;
                content:'';
                height:$navBtnLineWidth;
                width:$navBtnLineWidth;
                background:$navLinkColor;
                @extend %absolute-center-horizontal;
                bottom:0;
                @include transition;
            }

            /*---------- HOVER EFFECTS ----------*/
            @media (any-hover:hover){
                &:hover{
                    color:$navLinkColor;
                    opacity:1 !important;

                    &:before{
                        opacity:1;
                        bottom:.5em;
                    }
                }
            }
        }

        li {
            opacity: 0;
            visibility: hidden;
            display: block;
            margin:1em 0;
            text-align: center;
            position:relative;
            top:2em;
            @include transition(all, .5s, ease);

            &.current {
                & > a,
                & > a:visited {
                    pointer-events: none;
                    opacity:1;

                    &:before{
                        opacity:1;
                        bottom:.5em;
                    }
                }
            }

            &.active{
                opacity:1;
                visibility:visible;
                top:0;
            }
        }
    }
}

/*---------- TOUCH DEVICE ----------*/
.touchDevice{
    .topNavWrp nav li{
        a,
        a:visited{
            opacity:.65;
        }

        &.current{
            a,
            a:visited{
                opacity:1;
            }
        }
    }

    &.showMobileNav header .logo{
        opacity:1;
    }
}

/*==========----------==========*/
/*          RECENT WORK         */
/*==========----------==========*/
.topNavWrp .recentWorkContainer{
    opacity:0;
    visibility:hidden;
    @include transition(all, .5s, ease);

    &.active{
        opacity:1;
        visibility:visible;
    }

    h2{
        @extend h3;
        text-align:center;
        color:$navLinkColor;
        
        .line{
            background:$navLinkColor;
        }
    }

    .portfolioItem{
        opacity:0;
        visibility:hidden;
        position:relative;
        right:2em;
        @include transition(all, .5s, ease);

        &,
        &.wide,
        &.tall{
            @include sbFlexItem(1, 1, calc(33.33% - 1em));
            height:300px;
            min-height:0;
            max-height:none;
        }

        &.active{
            opacity:1;
            visibility:visible;
            right:0;
        }
    }
}

/*==========----------==========*/
/*         SOCIAL MEDIA         */
/*==========----------==========*/

/*---------- GENERAL ----------*/
.iconContainer {
    @include sbFlexWrap(row, nowrap, center, stretch);
    padding:2em;

    ul,
    li {
        list-style:none;
        padding: 0;
    }

    ul {
        margin: 0;
    }

    li {
        display: block;
        margin: 0 .75em;
    }

    a {
        display:block;
        text-decoration: none !important;
        border-radius:50%;
        position:relative;
        @include transition;

        i{
            @extend %absolute-center;

            &:before{
                @include transition;
            }
        }

        svg{
            width:auto;
            height:$socialIconFontSize;
            @include transition;
            @extend %absolute-center;
        }
    }
}

/*---------- MAIN NAV ----------*/
.topNavWrp .iconContainer{
    @include sbFlexWrap(row, nowrap, center, center);
    background:$navBg;

    ul{
        @include sbFlexWrap(row, nowrap, center, center);
    }

    li{
        opacity:0;
        visibility:hidden;
        position:relative;
        left:2em;
        @include transition(all, .5s, ease);

        &.active{
            opacity: 1;
            visibility:visible;
            left:0;
        }
    }

    a{
        width: $socialIconDiam;
        height: $socialIconDiam;
        background:$white;

        i{
            color: $navBg;
            font-size:$largeFontSize;
        }

        svg{
            max-width:$largeFontSize;
            max-height:$largeFontSize;
            fill:$navBg;
            @include transition;
        }

        /*---------- HOVER ----------*/
        @media (any-hover:hover){
            &:hover{
                background: $linkHoverColor;

                i{
                    color:$white;
                }

                svg{
                    fill:$white;
                }
            }
        }
    }
}

/*---------- FOOTER ----------*/
footer{
    .iconContainer{
        padding:0;

        li{
            margin: 0 1.5em;

            &:first-child {
                margin-left: 0;
            }

            &:last-child {
                margin-right: 0;
            }
        }

        a{
            width:$socialIconDiam;
            height:$socialIconDiam;

            i{
                font-size:$socialIconFontSize;
            }

            /*---------- HOVER EFFECTS ----------*/
            @media (any-hover:hover){
                &:hover{
                    i {
                        color: $linkHoverColor !important;
                    }

                    svg{
                        fill: $linkHoverColor !important;
                    }
                }
            }
        }

        .iconsWrp{
            padding:4em;

            &.social{
                @include sbFlexWrap(row, nowrap, flex-end, center);
                background:map-get($bgColors, whiteBg);
                border-radius:0 0 0 1em;
                @include sbFlexItem(2,1,60%);

                a{
                    i{
                        color:$linkColor;
                    }
                    svg{
                        fill:$linkColor;
                    }
                }
            }

            &.commerce{
                @include sbFlexWrap(row, nowrap, flex-start, center);
                background:map-get($colorScheme, accentColor);
                @include sbFlexItem(2,1,40%);

                a{
                    i{
                        color:$white;
                    }

                    svg{
                        fill: $white;
                    }
                }
            }
        }

        ul{
            @include sbFlexWrap(row, nowrap, center, center);
        }
    }
}

/*==========----------==========*/
/*          NAV BUTTON          */
/*==========----------==========*/
.navBtn {
    cursor: pointer;
    width: $navBtnDiam;
    height: $navBtnDiam;
    border:$navBtnBorder;
    background:$navBtnColor;
    border-radius: 0;
    @include transition(all, .5s);
    position:relative;

    .blocksWrp {
        @include sbFlexWrap(column, nowrap, space-between, stretch);
        width: $sandwichWidth;
        height: $sandwichHeight;
        position:absolute;
        top:50%;
        left:50%;
        @include transform("translate(-50%, -50%)");
        @include transition(all, .5s);
    }

    .blockRow{
        height:$navBtnLineThickness;
        width:100%;
        @include sbFlexWrap(row, nowrap, space-between, center);
        @include transform("none");
        @include transition(all, .5s);
    }

    .block{
        opacity:1;
        width:$navBtnLineWidth;
        height:$navBtnLineThickness;
        background:$navBtnLineColor;
        @include transition;
    }

    /*---------- HOVER EFFECTS ----------*/
    @media (any-hover:hover){
        &:hover{
            background:$linkHoverColor;

            .blockRow{
                @include transform("translateX(-4px)");

                & + .blockRow{
                    @include transform("translateX(4px)");

                    & + .blockRow{
                        @include transform("translateX(-4px)");
                    }
                }
            }
        }
    }
}

/*---------- HOME PAGE ----------*/

.homePg{
    .navBtn{
        border-radius:0 0 $borderRadius 0;
        box-shadow:$mediumShadow;
    }

    /*----- LEFT NAV REVEALED -----*/
    &.revealLeftNav .navBtn{
        border-radius:0;
        box-shadow:none;
    }
}

/*==========----------==========*/
/*         NAV REVEALED         */
/*==========----------==========*/
.showMobileNav,
.showMobileNav.scrolled{
    overflow:hidden;

    .navBtn{
        background:$navLinkColor;
        border-radius:0 0 $borderRadius 0 !important;
        box-shadow:none !important;

        .block{
            background:$navBg;
        }

        .blockRow:first-child .block:nth-child(2),
        .blockRow:nth-child(2) .block:first-child,
        .blockRow:nth-child(2) .block:last-child,
        .blockRow:last-child .block:nth-child(2){
            opacity:0;
        }

        /*---------- HOVER EFFECTS ----------*/
        @media (any-hover:hover){
            &:hover{
                background:$linkHoverColor;

                .block{
                    background:$navLinkColor;
                }

                .blockRow{
                    @include transform("none");

                    & + .blockRow{
                        @include transform("none");

                        & + .blockRow{
                            @include transform("none");
                        }
                    }
                }
            }
        }
    }

    .topNavWrp{
        opacity:1;
        visibility:visible;
    }
}

/*==========----------==========*/
/*       LEFT SECTION NAV       */
/*==========----------==========*/

.leftBuffer{
    margin-left:$navBtnDiam;
    position:relative;
    z-index:1;
    @include transition;
}

.leftNavWrp{
    @include sbFlexWrap(column, nowrap, center, center);
    width:$navBtnDiam;
    padding-top:$navBtnDiam;
    background:map-get($bgColors, darkCOntentBg);
    overflow:hidden;
    position:fixed;
    left:0;
    top:0;
    bottom:0;
    z-index:10;

    ul,
    li{
        padding:0;
        margin:0;
        list-style:none;
    }

    ul{
        @include sbFlexWrap(row-reverse, nowrap, center, center);
        writing-mode:vertical-rl;
        @include transform("rotate(180deg)");
    }

    li{
        display:block;
        margin-top:4em;

        &:last-child{
            margin-top:0;
        }
    }

    a,
    a:visited,
    div{
        cursor:pointer;
        display:block;
        padding:.25em;
        text-transform:$headingTextTransform;
        letter-spacing:$headingLetterSpacing;
        font-weight:$primaryBold;
        color:$medTextColor;
        position:relative;

        &:before{
            display:block;
            content:'';
            width:0;
            height:$borderThickness;
            background:$lightTextColor;
            position:absolute;
            right:100%;
            top:50%;
            @include transform("translateY(-50%)");
            @include transition;
        }

        /*---------- HOVER EFFECTS ----------*/
        @media (any-hover:hover){
            &:hover{
                color:$linkHoverColor !important;
            }
        }

        /*---------- ACTIVE ----------*/
        &.active{
            cursor:auto;
            color:$lightTextColor;

            &:before{
                width:16px;
            }
        }
    }

    div{ 
        span{
            @include transition;
        }

        /*---------- HOVER EFFECTS ----------*/
        @media (any-hover:hover){
            &:not(.active):hover{
                span{
                    color:$linkHoverColor !important;
                }
            }
        }
    }
}

/*---------- HOME PAGE ----------*/

.homePg{
    .leftBuffer{
        margin-left:0;
    }
    .leftNavWrp{
        width:0;
        @include transition;
    }

    /*----- REVEAL LEFT NAV -----*/
    &.revealLeftNav{
        .leftBuffer{
            margin-left:$navBtnDiam;
        }
        .leftNavWrp{
            width:$navBtnDiam;
        }
    }
}

/*---------- PORTFOLIO ITEM PAGE ----------*/
.portfolioItemPg .leftNavWrp{
    padding-top:$closeBtnDiam;
}