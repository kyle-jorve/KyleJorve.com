/*==========----------==========*/
/*          HEADER NAV          */
/*==========----------==========*/

/*---------- TOP LEVEL ----------*/
.topNavWrp {
    opacity: 0;
    visibility: hidden;
    max-height:100%;
    overflow-x: hidden;
    overflow-y: auto;
    padding:2em;
    background:$navBg;
    position:fixed;
    top:0;
    right:0;
    bottom:0;
    left:0;
    z-index:99;
    @include transition(all, .5s);

    nav {
        width: 100%;
        padding:4em 0 6em 0;
        text-align: center;
        position: relative;
        z-index: 2;

        ul,
        li{
            list-style: none;
            padding: 0;
        }

        ul{
            margin: 0;
        }

        a,
        a:visited {
            opacity:.65;
            display: inline-block;
            padding: 1em;
            font-size: $largeFontSize;
            font-family: $headingFont;
            font-weight: $headingFontWeight;
            text-transform: $headingTextTransform;
            color: $navLinkColor;
            text-decoration: none;
            position: relative;
            z-index: 2;
            @include transition;

            &:before{
                opacity:0;
                display:block;
                content:'';
                height:$navBtnLineWidth;
                width:$navBtnLineWidth;
                background:$navLinkColor;
                @extend %absolute-center-horizontal;
                bottom:0;
                @include transition;
            }
        }

        li {
            opacity: 0;
            visibility: hidden;
            display: block;
            margin:1em 0;
            text-align: center;
            position:relative;
            top:2em;
            @include transition(all, .5s, ease);

            &.current {
                & > a,
                & > a:visited {
                    pointer-events: none;
                    opacity:1;

                    &:before{
                        opacity:1;
                        bottom:.5em;
                    }
                }
            }

            &.active{
                opacity:1;
                visibility:visible;
                top:0;
            }
        }
    }
}

/*---------- SCROLL BARS ----------*/
@include scrollBar(".topNav.navWrp", vertical);

/*---------- HOVER EFFECTS ----------*/
@include hover(".topNavWrp nav li a,.topNavWrp nav li a:visited") {
    color:$navLinkColor;
    opacity:1;

    &:before{
        opacity:1;
        bottom:.5em;
    }
}

/*==========----------==========*/
/*         SOCIAL MEDIA         */
/*==========----------==========*/

/*---------- GENERAL ----------*/
.iconContainer {
    padding:2em;
    ul,
    li {
        list-style:none;
        padding: 0;
    }

    ul {
        margin: 0;
    }

    li {
        display: block;
        margin: 0 1.5em;

        &:first-child {
            margin-left: 0;
        }

        &:last-child {
            margin-right: 0;
        }
    }

    a {
        display:block;
        text-decoration: none !important;
        border-radius:6px;
        position:relative;
        @include transition;

        i{
            @extend %absolute-center;

            &:before{
                @include transition;
            }
        }

        svg{
            width:auto;
            height:$socialIconFontSize;
            @include transition;
            @extend %absolute-center;
        }
    }
}

/*---------- MAIN NAV ----------*/
.topNavWrp .iconContainer{
    background:rgba($navBg, .85);
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    z-index:3;
    ul{
        @include sbFlexWrap(row, nowrap, center, center);
    }
    a{
        width: $socialIconDiam;
        height: $socialIconDiam;
        background: $medTextColor;
        &:before{
            color: $navLinkColor;
        }

        svg,
        svg *{
            fill:$navLinkColor;
        }
    }
}

/*==========----------==========*/
/*          NAV BUTTON          */
/*==========----------==========*/
.navBtn {
    cursor: pointer;
    width: $navBtnDiam;
    height: $navBtnDiam;
    border:$navBtnBorder;
    background:$navBtnColor;
    border-radius: 0;
    @include transition(all, .5s);
    position:relative;

    .blocksWrp {
        width: $sandwichWidth;
        height: $sandwichHeight;
        position:absolute;
        top:50%;
        left:50%;
        @include transform("translate(-50%, -50%)");
        @include transition(all, .5s);
    }

    .blockRow{
        height:$navBtnLineThickness;
        width:100%;
        @include sbFlexWrap(row, nowrap, space-between, center);
        @include transform("none");
        @include transition(all, .5s);

        & + .blockRow{
            margin-top: $navBtnLineThickness;
        }
    }

    .block{
        opacity:1;
        width:$navBtnLineWidth;
        height:$navBtnLineThickness;
        background:$navBtnLineColor;
        @include transition;
    }

    /*---------- ACTIVE ----------*/
    &.active {
        
    }
}

/*---------- HOVER EFFECTS ----------*/
@include hover(".navBtn"){
    background:$linkHoverColor;

    .blockRow{
        @include transform("translateX(-4px)");

        & + .blockRow{
            @include transform("translateX(4px)");

            & + .blockRow{
                @include transform("translateX(-4px)");
            }
        }
    }
}

/*---------- HOME PAGE ----------*/

.homePg{
    .navBtn{
        border-radius:0 0 $borderRadius 0;
        box-shadow:$mediumShadow;
    }

    /*----- LEFT NAV REVEALED -----*/
    &.revealLeftNav .navBtn{
        border-radius:0;
        box-shadow:none;
    }
}

/*==========----------==========*/
/*         NAV REVEALED         */
/*==========----------==========*/
.showMobileNav,
.showMobileNav.scrolled{
    header{
        background:transparent;

        .logo{
            opacity:.75;

            svg,
            svg *{
                fill:$white;
            }
        }
    }

    .navBtn{
        background:$navLinkColor;
        border-radius:0 0 $borderRadius 0 !important;
        box-shadow:none !important;

        .block{
            background:$navBg;
        }

        .blockRow:first-child .block:nth-child(2),
        .blockRow:nth-child(2) .block:first-child,
        .blockRow:nth-child(2) .block:last-child,
        .blockRow:last-child .block:nth-child(2){
            opacity:0;
        }
    }

    .topNavWrp{
        opacity:1;
        visibility:visible;
    }
}

/*---------- TOUCH DEVICE ----------*/
.touchDevice{
    .topNavWrp nav li{
        a,
        a:visited{
            opacity:1;
        }

        &.current{
            a,
            a:visited{
                opacity:.65;
            }
        }
    }

    &.showMobileNav header .logo{
        opacity:1;
    }
}

/*---------- HOVER EFFECTS ----------*/
@include hover("&.showMobileNav .navBtn"){
    background:$linkHoverColor;

    .block{
        background:$navLinkColor;
    }

    .blockRow{
        @include transform("none");

        & + .blockRow{
            @include transform("none");

            & + .blockRow{
                @include transform("none");
            }
        }
    }
}

/*==========----------==========*/
/*       LEFT SECTION NAV       */
/*==========----------==========*/

.leftBuffer{
    margin-left:$navBtnDiam;
    position:relative;
    z-index:1;
    @include transition;
}

.leftNavWrp{
    @include sbFlexWrap(column, nowrap, center, center);
    width:$navBtnDiam;
    background:map-get($bgColors, darkCOntentBg);
    overflow:hidden;
    position:fixed;
    left:0;
    top:0;
    bottom:0;
    z-index:10;

    ul,
    li{
        padding:0;
        margin:0;
        list-style:none;
    }

    ul{
        @include sbFlexWrap(row-reverse, nowrap, center, center);
        writing-mode:vertical-rl;
        @include transform("rotate(180deg)");
    }

    li{
        display:block;
        margin-top:4em;

        &:last-child{
            margin-top:0;
        }
    }

    a,
    a:visited,
    div{
        cursor:pointer;
        display:block;
        padding:.25em;
        text-transform:$headingTextTransform;
        letter-spacing:$headingLetterSpacing;
        font-weight:$primaryBold;
        color:$medTextColor;
        position:relative;

        &:before{
            display:block;
            content:'';
            width:0;
            height:$borderThickness;
            background:$lightTextColor;
            position:absolute;
            right:100%;
            top:50%;
            @include transform("translateY(-50%)");
            @include transition;
        }

        /*---------- ACTIVE ----------*/

        &.active{
            cursor:auto;
            color:$lightTextColor;

            &:before{
                width:16px;
            }
        }
    }

    div span{
        @include transition;
    }
}

/*---------- HOME PAGE ----------*/

.homePg{
    .leftBuffer{
        margin-left:0;
    }
    .leftNavWrp{
        width:0;
        @include transition;
    }

    /*----- REVEAL LEFT NAV -----*/
    &.revealLeftNav{
        .leftBuffer{
            margin-left:$navBtnDiam;
        }
        .leftNavWrp{
            width:$navBtnDiam;
        }
    }
}

/*---------- HOVER EFFECTS ----------*/

@include hover(".leftNavWrp li div:not(.active)"){
    span{
        color:$linkHoverColor !important;
    }
}