@inherits Umbraco.Web.Mvc.UmbracoTemplatePage


@*
    This snippet displays a list of links of the pages immediately under the top-most page in the content tree.
    This is the home page for a standard website.
    It also highlights the current active page/section in the navigation with the css class "current".
*@

@{
    var selection = CurrentPage.Site().Children.Where("Visible");
}

<nav>
    <ul>
        <li class="homeLink @(CurrentPage.Name.ToLower() == "home" ? "current" : null)">
            <a href="/"><span>Home</span></a>
        </li>
        @foreach (var item in selection)
        {
            if (!item.umbracoNaviHide)
            {
                <li class="@(item.Url == CurrentPage.Url ? "current" : null)">
                    @if (!string.IsNullOrWhiteSpace(item.forwardingPg.ToString()))
                    {
                        var newUrl = item.forwardingPg;

                        <a href="@newUrl"><span>@item.Name</span></a>
                    }
                    else
                    {
                        <a href="@item.Url"><span>@item.Name</span></a>
                    }
                </li>
            }
        }
    </ul>
</nav>

<div class="iconContainer">
    @{ Html.RenderPartial("socialMediaIcons");}
</div>